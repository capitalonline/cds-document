---
title: 获取Redis实例列表
date: 2021-12-20 13:27:41
permalink: /pages/477040/
article: true
---

## 1.接口描述

**Action**：DescribeDBInstances

**描述**： 获取Redis实例列表（支持常见字段过滤:实例编号、实例名称、实例IP）

**请求地址**： cdsapi.capitalonline.net/redis

**请求方法**： GET

## 2.请求参数

| 参数名       | 必选 | 类型   | 说明             |
| ------------ | ---- | ------ | ---------------- |
| InstanceUuid | 否   | string | 要过滤的实例编号 |
| InstanceName | 否   | string | 要过滤的实例名称 |
| IP           | 否   | string | 要过滤的实例IP   |

## 3.返回参数

| 参数名          | 类型   | 说明                                                |
| --------------- | ------ | --------------------------------------------------- |
| RelationService | dict   | 相关联的服务实例                                    |
| CloneServices   | list   | 克隆的临时实例列表                                  |
| AppName         | string | 数据中心名称                                        |
| IP              | string | 数据库的连接的IP                                    |
| Port            | int    | 连接的端口                                          |
| Ram             | int    | 内存 单位M                                          |
| RegionId        | string | 站点编号                                            |
| VdcId           | string | 数据中心的编号                                      |
| MasterInfo      | dict   | 从属集群，只读实例会有值（Redis目前不支持只读实例） |
| LinkTypeStr     | string | 链路类型名称                                        |
| RoGroups        | list   | 只读实例列表（Redis目前不支持只读实例）             |
| SubProductKey   | string | 子产品的英文名字                                    |
| SubProductName  | string | 子产品的名字                                        |
| Version         | string | 服务版本                                            |
| LinkType        | string | 链路类型：英文                                      |
| Status          | string | 实例状态                                            |
| StatusStr       | string | 状态对应的中文                                      |
| InstanceUuid    | string | 实例编号                                            |
| InstanceName    | string | 实例名称                                            |
| CreatedTime     | string | 实例创建时间                                        |
| ResourceId      | string | 账单ID，查询账单时的唯一标识                        |
| ProjectName     | string | 项目名称                                            |

## 4.请求示例

```python
def get_redis_instances_list():
    """
    获取Redis实例列表(支持常见字段过滤、instance_uuid/instance_name/ip)
    """
    action = "DescribeDBInstances"
    method = "GET"
    param = {
        "IP": "66.66"  # 根据ip查询
    }
    url = get_signature(action, AK, AccessKeySecret, method, REDIS_URL, param)
    res = requests.get(url)
    result = json.loads(res.content)
    print(result)

```

## 5.返回示例

```python
{
    "Code": "Success",
    "Data": [{
        "CloneServices": null,
        "CreatedTime": "2022-10-18 10:19:34",
        "DisplayName": "中国大陆-无锡-可用区A",
        "IP": "*****************",
        "InpaasId": "3cd1dac1-b549-4229-ab0f-2a8ef4ee7f57",
        "InstanceName": "*****************",
        "InstanceUuid": "*****************",
        "LinkType": "default_link",
        "LinkTypeStr": "默认链路",
        "MasterInfo": "",
        "Port": 9736,
        "ProjectName": "默认项目组",
        "Ram": 1024,
        "RegionId": "CN_Wuxi_A",
        "RelationService": null,
        "ResourceId": "*****************",
        "RoGroups": null,
        "Status": "RUNNING",
        "StatusStr": "运行中",
        "SubProductKey": "redis-replication",
        "SubProductName": "Redis 主从版",
        "VdcId": "4b7c78da-6d38-4b90-8bbf-c8a6bf4a405b",
        "VdcName": "无锡A-PAAS",
        "Version": "5.0"
    }],
    "Message": "success"
}
```

