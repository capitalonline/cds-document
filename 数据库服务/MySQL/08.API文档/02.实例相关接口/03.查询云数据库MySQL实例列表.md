---
title: 查询云数据库MySQL实例列表
date: 2021-12-03 17:00:00
permalink: /pages/1206061/
article: true
---


## 1.接口描述

**Action**：DescribeDBInstances

**描述**： 查看MySQL实例列表（支持常见字段过滤:实例编号、实例名称、实例IP）

**请求地址**： cdsapi.capitalonline.net/mysql

**请求方法**： GET

## 2.请求参数

| 参数名       | 必选 | 类型   | 说明             |
| :----------- | :--- | :----- | :--------------- |
| InstanceUuid | 否   | string | 要过滤的实例编号 |
| InstanceName | 否   | string | 要过滤的实例名称 |
| IP           | 否   | string | 要过滤的实例IP   |

## 3.请求示例

```python
def get_mysql_instances_list():
    """
    获取MySQL实例列表(支持常见字段过滤、instance_uuid/instance_name/ip)
    """
    action = "DescribeDBInstances"
    method = "GET"
    param = {
        "IP": "66.66"  # 可根据可选字段过滤
    }
    url = get_signature(action, AK, AccessKeySecret, method, MYSQL_URL, param)
    res = requests.get(url)
    result = json.loads(res.content)
    result = json.dumps(result)  # json格式化
    print(result)
```

## 4.返回参数

| 参数名          | 类型   | 说明                             |
| :-------------- | :----- | :------------------------------- |
| Message         | string | 信息描述                         |
| Code            | string | 状态码                           |
| Data            | list   | 数据                             |
| RelationService | dict   | 相关联的服务实例                 |
| DisplayName     | string | 站点名称                         |
| CloneServices   | list   | 克隆的临时实例列表               |
| VdcName         | string | 数据中心名称                     |
| IP              | string | 数据库的连接的IP                 |
| Port            | int    | 连接的端口                       |
| Cpu             | int    | CPU大小                          |
| Ram             | int    | 内存,单位MB                      |
| Disks           | int    | 磁盘大小,单位GB                  |
| RegionId        | string | 站点编号                         |
| VdcId           | string | 数据中心的编号                   |
| Master_Info     | dict   | 从属集群，当实例为只读实例时有值 |
| LinkTypeStr     | string | 链路类型名称                     |
| RoGroups        | list   | 只读实例列表                     |
| SubProductName  | string | 子产品的名字                     |
| Version         | string | MySQL的版本                      |
| LinkType        | string | 链路类型：英文                   |
| Status          | string | 实例状态                         |
| StatusStr       | string | 状态对应的中文                   |
| InstanceUuid    | string | 实例编号                         |
| InstanceName    | string | 实例名称                         |
| CreatedTime     | string | 实例创建时间                     |

## 5.返回示例

```python
{
    "Code": "Success",
    "Data": [{
        "CloneServices": null,
        "Cpu": 4,
        "CreatedTime": "2020-05-03 22:16:22",
        "Disks": 200,
        "DisplayName": "亚太地区-香港-可用区A",
        "IP": "66.66.0.46",
        "InstanceName": "test-mysql",
        "InstanceUuid": "5ac7c945-ae47-4bbf-82e6-2823d64b57c5",
        "LinkType": "default_link",
        "LinkTypeStr": "默认链路",
        "MasterInfo": "",
        "Port": 6033,
        "Ram": 8192,
        "RegionId": "CN_Hongkong_A",
        "RelationService": null,
        "ResourceId": "45533175-2c4b-4e5f-8280-85b68e932381",
        "RoGroups": [{
            "Cpu": 4,
            "CreateTime": "2020-05-04 00:37:13",
            "InpaasId": "591f61a6-2197-4b14-bd1a-82a8ee345647",
            "Ip": "66.66.0.48",
            "Locked": "",
            "Message": "运行中",
            "Port": 6033,
            "Progress": 100,
            "Ram": 8192,
            "ServiceId": "5f88d00f-d01b-4103-ba29-5810b027f7c9",
            "ResourceId": "45533175-2c4b-4e5f-8280-85b68e932381",
            "ServiceName": "mysql_for_readonly",
            "Status": "RUNNING",
            "SvcType": "mysql-readonly"
        }],
        "Status": "RUNNING",
        "StatusStr": "运行中",
        "SubProductName": "MySQL 高可用版\n",
        "VdcId": "d459c74b-d60e-4f28-adbb-67be402f76f3",
        "VdcName": "香港PaaS1",
        "Version": "5.7.24"
    }],
    "Message": "Success."
}
```

